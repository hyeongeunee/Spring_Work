<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="guest">
    <select id="getData" resultType="com.gura.spring.guest.dto.GuestDto" parameterType="int">
        SELECT NUM, WRITER, CONTENT, PWD, REGDATE
        FROM BOARD_GUEST
        WHERE NUM = #{num}
    </select>

    <update id="update" parameterType="com.gura.spring.guest.dto.GuestDto">
        UPDATE BOARD_GUEST
        SET WRITER = #{writer},
            CONTENT = #{content},
            PWD = #{pwd}
        WHERE NUM = #{num}
    </update>

    <delete id="delete" parameterType="int">
        DELETE
        FROM BOARD_GUEST
        WHERE NUM = #{num}
    </delete>

    <select id="getList"
            resultType="com.gura.spring.guest.dto.GuestDto"> -- select 된 row 하나를 어떤 type 에 담을지 결정하는 것이 resultType 이다.
        SELECT NUM, WRITER, CONTENT, PWD, REGDATE
        FROM BOARD_GUEST
        ORDER BY NUM ASC
    </select>

    <insert id="insert" parameterType="com.gura.spring.guest.dto.GuestDto">
        INSERT INTO BOARD_GUEST
            (NUM, WRITER, CONTENT, PWD, REGDATE)
        VALUES (BOARD_GUEST_SEQ.NEXTVAL, #{writer}, #{content}, #{pwd}, SYSDATE)
    </insert>
</mapper>